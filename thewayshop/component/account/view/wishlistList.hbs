

<!-- Start Wishlist  -->
<div class="wishlist-box-main">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="table-main table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Images</th>
                                <th>Product Name</th>
                                <th>Unit Price </th>
                                <th>Stock</th>
                                <th>Add Item</th>
                                <th>Remove</th>
                            </tr>
                        </thead>
                        <tbody id="wishlist-body">
                            
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End Wishlist -->
{{#section 'script'}}
<script>
    const wishList_container = document.querySelector('#wishlist-body');
    if(user_id){
        $.get(`/api/account/${user_id}/wishlist`,(data,status)=>{
            if(status==='success'){
                updateView(data);
            }
            else{
                console.log(data);
            }
        })
    }
    else{
        const wishList = window.localStorage.getItem('wishList');
        if(wishList){
            updateView(JSON.parse(wishList));
        }
    }
    function updateView(data){
        wishList_container.innerHTML='';
        data.forEach(pro=>{
            const tr =`<tr>
                        <td class="thumbnail-img">
                            <a href="/product/${pro.id}">
                        <img class="img-fluid" src="${pro.image}" alt="" />
                    </a>
                        </td>
                        <td class="name-pr">
                            <a href="/product/${pro.id}">
                        ${pro.title}
                    </a>
                        </td>
                        <td class="price-pr">
                            <p>$ ${pro.price}</p>
                        </td>
                        <td class="quantity-box">In Stock</td>
                        <td class="add-pr">
                            <a class="btn hvr-hover" href="#">Add to Cart</a>
                        </td>
                        <td class="remove-pr">
                            <a href="#">
                        <i class="fas fa-times"></i>
                    </a>
                        </td>
                    </tr>`;
            wishList_container.innerHTML+=tr;
        })
    }
</script>
{{/section}}